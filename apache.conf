<VirtualHost *:80>
    ServerName SUBDOMAIN.DOMAIN
    RewriteEngine on
    ProxyPass / http://localhost:PORT/
    ProxyPassReverse / http://localhost:PORT/
</VirtualHost>
 <IfModule mod_ssl.c>
    <VirtualHost *:443>
        ServerName SUBDOMAIN.DOMAIN
        SSLEngine On
        <IfModule mod_headers.c>
           Header always set Strict-Transport-Security "max-age=63072000; preload"
        </IfModule>
        RewriteEngine on
        SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem
        SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
        SSLProxyEngine on
        SSLProxyVerify none
        SSLProxyCheckPeerCN off
        SSLProxyCheckPeerName off
        SSLProxyCheckPeerExpire off
        ProxyPass / http://localhost:PORT/
        ProxyPassReverse / http://localhost:PORT/
        RequestHeader set X-Forwarded-Proto "https"
    </VirtualHost>
 </IfModule>